const ROOT_PATH="/ListerForYoutube/",CACHE_STATIC="CACHE_STATIC",CACHE_IMAGES="CACHE_IMAGES",CACHE_IMAGES_MAX=200,CACHE_LIMIT_COUNT=5e3,static_paths=["./","./index.html","./main.css","./main.js","./manifest.json","./icons/icon.svg","./icons/app_icons_map.svg","./fonts/VarelaRound-Regular.ttf"];self.addEventListener("install",(t=>{t.waitUntil((async()=>{let t=await caches.open(CACHE_STATIC);await t.addAll(static_paths)})())})),self.addEventListener("activate",(async t=>{let e=await caches.open(CACHE_IMAGES),a=await e.keys();if(a.length>=5e3){let t=a.length-5e3,s=a.slice(0-t);console.table([t,s]),s.forEach((async t=>{await e.delete(t)}))}}));const handleFetch=t=>{t.respondWith((async t=>await caches.match(t)??(async()=>{if(t.url.match(/^https:\/\/i.ytimg.com/)){let e=await fetch(t.url,{mode:"no-cors"});return(await caches.open(CACHE_IMAGES)).put(t,e.clone()),e}return await fetch(t)})())(t.request))};self.addEventListener("fetch",handleFetch);